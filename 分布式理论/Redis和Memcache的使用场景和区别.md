https://www.jianshu.com/p/0cee8085fc8f

# Redis和Memcache的使用场景和区别



## 使用场景

​	缓存的数据只需要key-value，用Memcache ，足够稳定可靠。 如果需要持久化、存储、排序等，对数据结构和处理有高级需求，redis。



## 一、memcache使用场景



1、适合多读少写，大数据量的情况。减少数据库负载。它的总需求：将常从数据库读取的数据缓存到memcache中。这些数据分：

（1）经常读取，实时性要求不强的，可以等到自动过期的数据。

（2）经常读取，实时性强的。比如好友列表，个人信息列表。这些数据先存到缓存，如果发生更新

​	类型的操作，先清缓存，更新数据库。重新缓存。



2、秒杀

​	强一致性。可以先把库存放到缓存。当减少库存成功时，再慢慢到支付界面支付。



3、不适合memcache：

 -	缓存对象大小大于1M
 -	key的长度大于250（可以先把key进行MD5加密）
 -	应用运行在不安全的环境中Memcached未提供任何安全策略，仅仅通过telnet就可以访问到memcached。如果应用运行在共享的系统上，需要着重考虑安全问题；
 -	数据本身需要持久化



## 二、redis应用场景

​	适用于对读写效率要求都很高，数据处理业务复杂和对安全性要求较高的系统

1、存储方式：Memcache把数据全部存在内存之中，断电后会挂掉，数据不能超 过内存大小。Redis支持数据的持久化，可以将内存中的数据保存在磁盘中，重启时可以再次加载进行使用。（RDB快照和AOF日志两 种持久化方式）。

2、Redis支持数据的备份，及master-slave模式的数据备份。

3、数据支持类型：Redis在数据支持上要比Memcache多得多。

 4、使用底层模型不同：新版本的Redis直接自己构建了VM机制，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求。

5、 redis有一个致命缺陷 当内存满了时 dump数据cpu占用100%。



# 总结

1、Redis使用最佳方式是全部数据in-memory。

2、Redis更多场景是作为Memcache的替代者来使用。

3、当需要除key/value之外的更多数据类型支持时，使用Redis更合适。

4、当存储的数据不能被剔除时，使用Redis更合适。

5、如果要说内存使用效率，使用简单的key-value存储的话，Memcached的内存利用率更高，而如果Redis采用hash结构来做key-value存储，由于其组合式的压缩，其内存利用率会高于Memcached。当然，这和你的应用场景和数据特性有关。