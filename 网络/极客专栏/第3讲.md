## 一、关于ip

### 1、ipv4

​	32位，分5类，D类作为多（组）播用，E类实验保留

![img](https://static001.geekbang.org/resource/image/0b/9e/0b32d6e35ff0bbc5d46cfb87f6669d9e.jpg)

#### 地址段和私有地址

![img](https://static001.geekbang.org/resource/image/e9/be/e9c59a4b2f0b804356759b10440ea7be.jpg)



### 2、无类型域间选路（CIDR）

​	Untyped inter-domain routing 。

​	就是针对公网ip数量少的问题，将一个ip分为子网和公网的操作。就是常说的划分，**网络号+主机号 → ip** 

```
eg: 
	10.100.122.2/24，这个 IP 地址中有一个斜杠 , 斜杠后的24，表示前24位是网络号，后8位是主机号
```

2.1 随着CIDR（无类型域间选路），出现 子网掩码 、 广播地址。

2.2 **网络地址 = 子网掩码 & ip**

2.3 一般的，对于192.168.0的私有网断面，192.168.0.1作为局域网的出口地址，192.168.0.255作为广播地址，发送这个ip，该子网下的所有机器都能收到。



### 3、D类组播地址

​	只有同组的机器才能收到，比如几个人根据业务创了个组，在组中发信息，而不会干扰到组外的其他人。



### 4、关于 scope 和 lo

​	查ip时，经常看到这两个单词：

```shell
root@test:~# ip addr
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether fa:16:3e:c7:79:75 brd ff:ff:ff:ff:ff:ff
    inet 10.100.122.2/24 brd 10.100.122.255 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::f816:3eff:fec7:7975/64 scope link 
       valid_lft forever preferred_lft forever
```

#### scope global 

​	表本机全局网卡，对外的，可以在网络中互联。

#### lo

​	是host，即主机，全称 **loopback**，又称 **环回接口** ，一般分配127.0.0.1，这个地址只用于本机通信，内核处理直接返回，不会出现在网络中。



## 二、MAC

### 1、特点

link/ether fa:16:3e:c7:79:75 brd ff:ff:ff:ff:ff:ff

​	6个字节、16进制表示。MAC地址，唯一地址，类似身份证

### 3、经典问题 -> 有了MAC为什么要IP？

```
答:
	网络包从一个地方传输到另外一个地方，除了要确定的地址，还需要定位功能。
	ip具备划分区域的功能，所以即使不知道目的地在哪，路由也知道也往哪个大致方向走。MAC一出场就确定，根据商家按照规定分配，不具备定向功能，虽然确实能唯一识别。所以，ip作为定向，mac作为局域网最终确定，ip+mac是包在网络中准确传输的基本方式。
```

​	简言之：**IP 是地址，有定位功能；MAC 是身份证，无定位功能；**





