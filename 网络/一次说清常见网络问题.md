





# 一、五、七层 、 TCP\IP协议层

## 1、层级

```
七层：				五层：				TCP/IP四层：
    应用层				应用层				应用层		
    表示层				传输层				传输层
    会话层				网络层				网际层IP
    传输层 			数据链路层		   网络接口层
    网络层				物理层
    数据链路层
    物理层
```

## 2、五层梗概

### 应用层

```
作用：规定应用程序间信息交互的规定协议
协议：HTTP 、STMP 、DNS等
```

### 传输层

```
作用：在网络上的两台主机上建立通信交互的通道
协议： TCP 、 UDP等
ps ： 基于TCP的有 http 或者 STMP 、FTP
	 基于UDP的有 DNS 、 DHCP等
```

###网络层

````
作用：是网络上的不同的两台主机提供通信功能
````

### 数据链路层

```
作用：将IP数据包封装成帧，在链路上一个帧一个帧传输，需要链路层的协议。封装的帧带有附加信息，如地址信息、同步信息、差错校验信息等。链路层收到帧后可以验证、决定向上提交或者要求重发。
```

### 物理层

```
作用：尽可能屏蔽不同的物理介质带来的差异，使信息流能在两台主机上透明传输。
```



## 3、TCP可靠原因

### 差错校验

### 超时重传

### 拥塞控制

### 流量控制

```
TCP连接的每一方都有固定大小的缓冲空间，TCP的接收端只允许发送端发送接收端缓冲区能接纳的数据。当接收方来不及处理发送方的数据，能提示发送方降低发送的速率，防止包丢失。TCP使用的流量控制协议是可变大小的滑动窗口协议。 （TCP利用滑动窗口实现流量控制）

滑动窗口
TCP利用滑动窗口实现流量控制的机制。
发送窗口里面的序号表示允许发送的序号。发送窗口后沿的后面部分表示已发送且已收到确认，而发送窗口前沿的前面部分表示不参与发送。发送窗口后沿的变化情况有两种可能，即不动（没有收到新的确认）和前移（收到了新的确认）。发送窗口的前沿通常是不断向前移动的。一般来说，我们总是希望数据传输更快一些。但如果发送方把数据发送的过快，接收方就可能来不及接收，这就会造成数据的丢失。所谓流量控制就是让发送方的发送速率不要太快，要让接收方来得及接收。

```



# 二、浏览器输入URL，回车

```
1、UDP协议，找DNS
   返回的是负载均衡服务器的地址 或者 DNS本身通过负载均衡实现的地址。
2、访问负载均衡服务器，获得就近、或者比较空闲的服务器ip 
3、建立tcp连接，访问服务器
4、可能需要登录，又需要访问单点登录用的校验服务器去验证
5、访问服务器，处理业务，返回响应、状态码，一些静态资源可能就是通过访问CDN（内容分发网络）获取。
PS：CDN：避免信息出现在瓶颈流量上传输，减少热点站点的网络压力。
```

