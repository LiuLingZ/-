https://www.cnblogs.com/whgk/p/6627187.html

# 梗概

1、AOP，面向切面编程，采取横向切入的思想。底层采用动态代理，Spring的动态代理有 JDK 和 Cglib两种方式。根据被代理的类是否实现接口选择其中一种方式。



# 使用

## 一、Spring AOP相关术语

1、Target：目标类，需要被增强的类，也就是上面我们写的UserServiceImpl。

2、JointPoint：连接点，目标类上需要被增强的方法，(这些方法可以被增强，也可以不增强，也就是说目标类中所有的方法都可以称为是连接点)

3、PointCut：切入点，被增强的方法(已经确定这个方法要被增强)，切入点就是一个连接点的子集

4、Advice：增强/通知，增强的代码，也就是上面将增强的代码凑成的一个类。类中的每个方法都代表一个增强的功能代码，这个类中的方法就被称为通知

5、weaving：织入，将切入点和通知结合，从没被增强到已经增强的过程

6、Aspect：切面，切入点和通知结合，切入点 和 通知点 多点形成面　　特殊情况：一个切入点 和 一个通知



## 二、使用AspectJ

1、通知类型：

① before:前置通知(应用：各种校验)

​	在方法执行前执行，如果通知抛出异常，阻止方法运行

②.afterReturning:后置通知(应用：常规数据处理)

​	方法正常返回后执行，如果方法中抛出异常，通知无法执行

　　 必须在方法执行后才执行，所以可以获得方法的返回值。

　　　　　　　　　　　　3.around:环绕通知(应用：十分强大，可以做任何事情) 【掌握】

  　  方法执行前后分别执行，可以阻止方法的执行。要求必须手动的执行目标方法。

④.afterThrowing:抛出异常通知(应用：包装异常信息)

 　　方法抛出异常后执行，如果方法没有抛出异常，无法执行

⑤.after:最终通知(应用：清理现场)

   　方法执行完毕后执行，无论方法中是否出现异常