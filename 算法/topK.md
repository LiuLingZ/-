大顶堆小顶堆：https://blog.csdn.net/her__0_0/article/details/72511047

参考：https://www.cnblogs.com/gczr/p/7007592.html

# TopK问题

​	描述：有 N (N>1000000)个数,求出其中的前K个最小的数（又被称作topK问题）。

​	



## 快排分区

### 1、内存一次加载完情况

```
思路：每一趟：
	通过取一个基准，通过一次快排，找到其对应位置k，判断，k的左右边数量是否是K所要求的位置，往正确的一边靠拢
	来到正确的一边此时再计算K在这里的位置，然后再来取基准，再来一次k分区
时间复杂度：随机基准的方式是O(n)
```

### 2 、内存不能一次加载完

```
分n台机器，然后每台机器通过 内存一次加载完情况，寻找 top(K/N)
```





## 大顶堆，小顶堆

### 1、内存

​	可以一次加载完也可不加载完，反正思路不影响。这也是他的优势。如果机器少的情况。

### 2、思路

```
- 如果找topK，那么维护一个小顶堆，堆顶放k个中的最小元素，先放满了k个，构成小顶堆后
- 每加一个元素，比较是否比堆顶大，如果是，则替换堆顶，并重构小顶堆
- 这样每次堆顶都是k个中最小的，而到最后，剩余的堆中的k个则是N个中最大的。有点像肉弱强食，总是把K中的最弱者替	换掉。
```

### 3、复杂度

​	堆排序 O（NlogN）

​	而因为要排的内容是k个，需要加载n个元素（所有）

​	所以是 O（NlogK）

### 4、优势

​	对于一次能加载到内存的数目，不如 快排分区；但是如果不能一次加载，且机器数目少时，比快排分区就好。